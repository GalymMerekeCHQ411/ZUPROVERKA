<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–•–∏–º–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä (–†–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è)</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f0f2f5; display: flex; justify-content: center; padding-top: 50px; }
        .container { background: white; padding: 30px; border-radius: 10px; width: 400px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); text-align: center; }
        
        /* –ö–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è */
        .nav { margin-bottom: 20px; display: flex; justify-content: center; gap: 10px; }
        .nav-btn { padding: 10px 20px; background: #ddd; border: none; cursor: pointer; border-radius: 5px; font-weight: bold; }
        .nav-btn.active { background: #007bff; color: white; }

        /* –ü–æ–ª—è –≤–≤–æ–¥–∞ –∏ –∫–Ω–æ–ø–∫–∏ */
        input { width: 90%; padding: 10px; margin-bottom: 10px; font-size: 16px; border: 2px solid #ccc; border-radius: 5px; }
        button.action { width: 100%; padding: 12px; background: #28a745; color: white; border: none; border-radius: 5px; font-size: 18px; cursor: pointer; }
        button.action:hover { background: #218838; }

        /* –†–µ–∑—É–ª—å—Ç–∞—Ç */
        .result { margin-top: 20px; padding: 15px; background: #e9ecef; border-radius: 5px; display: none; text-align: left; }
        
        /* –°–µ–∫—Ü–∏–∏ */
        .section { display: none; }
        .section.active { display: block; }
    </style>
</head>
<body>

<div class="container">
    <div class="nav">
        <button class="nav-btn active" onclick="showSection('mass')">–ú–∞—Å—Å–∞</button>
        <button class="nav-btn" onclick="showSection('react')">–†–µ–∞–∫—Ü–∏–∏</button>
    </div>

    <div id="mass" class="section active">
        <h3>üß™ –°—á–∏—Ç–∞–µ–º –º–∞—Å—Å—É</h3>
        <input type="text" id="massInput" placeholder="–ü—Ä–∏–º–µ—Ä: H2O">
        <button class="action" onclick="calcMass()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
        <div id="massOut" class="result"></div>
    </div>

    <div id="react" class="section">
        <h3>üî• –£—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Ä–µ–∞–∫—Ü–∏–∏</h3>
        <input type="text" id="reactInput" placeholder="–ü—Ä–∏–º–µ—Ä: H2 + O2 = H2O">
        <button class="action" onclick="calcReact()">–£—Ä–∞–≤–Ω—è—Ç—å</button>
        <div id="reactOut" class="result"></div>
    </div>
</div>

<script>
    // --- –ü–†–û–í–ï–†–ö–ê –ó–ê–ü–£–°–ö–ê ---
    // –ï—Å–ª–∏ —ç—Ç–æ –æ–∫–Ω–æ –Ω–µ –≤—Å–ø–ª—ã–≤–µ—Ç –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∑–Ω–∞—á–∏—Ç JS –æ—Ç–∫–ª—é—á–µ–Ω!
    window.onload = function() {
        // alert("–°–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç! –ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ —ç—Ç–æ, –∑–Ω–∞—á–∏—Ç –∫–æ–¥ –∂–∏–≤–æ–π.");
    };

    // --- –î–ê–ù–ù–´–ï ---
    const ATOMS = { "H": 1.008, "He": 4.003, "Li": 6.94, "Be": 9.012, "B": 10.81, "C": 12.011, "N": 14.007, "O": 15.999, "F": 18.998, "Ne": 20.180, "Na": 22.990, "Mg": 24.305, "Al": 26.982, "Si": 28.085, "P": 30.974, "S": 32.06, "Cl": 35.45, "K": 39.098, "Ca": 40.078, "Sc": 44.956, "Ti": 47.867, "V": 50.942, "Cr": 51.996, "Mn": 54.938, "Fe": 55.845, "Co": 58.933, "Ni": 58.693, "Cu": 63.546, "Zn": 65.38, "Ga": 69.723, "Ge": 72.630, "As": 74.922, "Se": 78.971, "Br": 79.904, "Kr": 83.798, "Rb": 85.468, "Sr": 87.62, "Y": 88.906, "Zr": 91.224, "Nb": 92.906, "Mo": 95.95, "Ag": 107.87, "Cd": 112.41, "Sn": 118.71, "Sb": 121.76, "I": 126.90, "Ba": 137.33, "Au": 196.97, "Hg": 200.59, "Pb": 207.2, "U": 238.03 };

    // --- –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–ï –í–õ–ö–ê–î–û–ö ---
    function showSection(id) {
        // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å—ë
        document.getElementById('mass').style.display = 'none';
        document.getElementById('react').style.display = 'none';
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω–æ–µ
        document.getElementById(id).style.display = 'block';
    }

    // --- –§–£–ù–ö–¶–ò–Ø –†–ê–°–ß–ï–¢–ê –ú–ê–°–°–´ ---
    function calcMass() {
        // 1. –ë–µ—Ä–µ–º —Ç–µ–∫—Å—Ç
        let formula = document.getElementById('massInput').value;
        let out = document.getElementById('massOut');
        out.style.display = 'block';
        
        if (!formula) {
            out.innerHTML = "‚ùå –í–≤–µ–¥–∏—Ç–µ —Ñ–æ—Ä–º—É–ª—É!";
            return;
        }

        // 2. –ü—ã—Ç–∞–µ–º—Å—è –ø–æ—Å—á–∏—Ç–∞—Ç—å
        try {
            // –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –±–µ–∑ —Å–∫–æ–±–æ–∫ –¥–ª—è —Ç–µ—Å—Ç–∞ (—á—Ç–æ–±—ã —Ç–æ—á–Ω–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ)
            // –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ —Å–∫–æ–±–∫–∞–º–∏ - —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π —Å–ª–æ–∂–Ω—ã–π –∫–æ–¥, –Ω–æ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—å —ç—Ç–æ—Ç.
            
            let total = 0;
            // –†–µ–≥—É–ª—è—Ä–∫–∞ –∏—â–µ—Ç –≠–ª–µ–º–µ–Ω—Ç + –¶–∏—Ñ—Ä—É
            let parts = formula.match(/([A-Z][a-z]*)(\d*)/g);
            
            if (!parts) throw new Error("–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç");

            for (let part of parts) {
                let match = part.match(/([A-Z][a-z]*)(\d*)/);
                let el = match[1];
                let num = match[2] ? parseInt(match[2]) : 1;

                if (ATOMS[el]) {
                    total += ATOMS[el] * num;
                } else {
                    out.innerHTML = `‚ùå –≠–ª–µ–º–µ–Ω—Ç ${el} –Ω–µ –Ω–∞–π–¥–µ–Ω`;
                    return;
                }
            }
            
            out.innerHTML = `‚úÖ –ú–∞—Å—Å–∞ <b>${formula}</b> = <b>${total.toFixed(3)}</b> –≥/–º–æ–ª—å`;

        } catch (e) {
            out.innerHTML = "‚ùå –û—à–∏–±–∫–∞: " + e.message;
        }
    }

    // --- –§–£–ù–ö–¶–ò–Ø –†–ï–ê–ö–¶–ò–ô ---
    function calcReact() {
        let val = document.getElementById('reactInput').value;
        let out = document.getElementById('reactOut');
        out.style.display = 'block';

        if (!val) { out.innerHTML = "‚ùå –í–≤–µ–¥–∏—Ç–µ —Ä–µ–∞–∫—Ü–∏—é"; return; }
        
        // –î–µ–º–æ-—Ä–µ–∂–∏–º –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∫–Ω–æ–ø–æ–∫
        if (val.includes("=")) {
             out.innerHTML = `‚úÖ –†–µ–∞–∫—Ü–∏—è –ø—Ä–∏–Ω—è—Ç–∞. <br> (–í —ç—Ç–æ–π —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –æ—Ç–∫–ª—é—á–µ–Ω –¥–ª—è —Ç–µ—Å—Ç–∞ –∫–Ω–æ–ø–æ–∫).`;
        } else {
             out.innerHTML = `‚ö†Ô∏è –ó–∞–±—ã–ª –∑–Ω–∞–∫ "="?`;
        }
    }
</script>

</body>
</html>
